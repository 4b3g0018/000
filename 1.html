<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Bootstrap Example</title>
</head>

<body>
    <body>
        <button id="showTotal">購物車總額</button>
        <button id="clearCart">清空購物車</button>
      
        <div>
          <img src="noodle1.jpg">
          <p>$100</p>
          <button class="add-to-cart" data-price="100">加入購物車</button>
        </div>
      
        <div>
          <img src="noodle2.jpg">
          <p>$120</p>
          <button class="add-to-cart" data-price="120">加入購物車</button>
        </div>
      
        <p>目前購物車總金額：<span id="totalAmount">0</span> 元</p>
      
        <script>
          let total = parseInt(localStorage.getItem('cartTotal')) || 0;
      
          function updateDisplay() {
            document.getElementById('totalAmount').textContent = total;
          }
      
          updateDisplay(); // 初始載入時顯示儲存的總金額
      
          document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
              const price = parseInt(button.getAttribute('data-price'));
              total += price;
              console.log("目前總金額：", total);
              localStorage.setItem('cartTotal', total);
              updateDisplay();
            });
          });
      
          document.getElementById('showTotal').addEventListener('click', () => {
            alert("目前總金額：" + total + " 元");
          });
      
          document.getElementById('clearCart').addEventListener('click', () => {
            total = 0;
            localStorage.setItem('cartTotal', total);
            updateDisplay();
            console.log("購物車已清空");
          });
        </script>
      </body>
      </html>